name: deforum-music
channels:
  - defaults
  - conda-forge
  - pytorch
  - nvidia

dependencies:
  # Core
  - python=3.10
  - pip>=23.0
  - nvidia/label/cuda-12.1.0::cuda-toolkit

  # PyTorch (CUDA 12.1 builds)
  - pytorch=2.4.0
  - torchvision=0.19.0
  - torchaudio=2.4.0
  - pytorch-cuda=12.1
  - ffmpeg

  # Pip-installed extras
  - pip:
      # Torch ecosystem
      - xformers==0.0.27.post2
      - torchmetrics==1.8.1
      - torchdiffeq==0.2.3
      - torchsde==0.2.6
      - pytorch-lightning==1.9.4
      - open-clip-torch==2.20.0

      # Audio analysis
      - librosa==0.10.1
      - pydub==0.25.1
      - soundfile==0.12.1
      - noisereduce==3.0.0
      - openai-whisper==20231117
      - demucs==4.0.1

      # NLP / AI
      - transformers==4.42.4
      - accelerate==0.33.0
      - nltk==3.9.1
      - textblob==0.17.1
      - spacy==3.7.5

      # Web / API
      - fastapi==0.115.0
      - uvicorn==0.30.6
      - httpx==0.27.0
      - aiohttp==3.10.5
      - python-multipart==0.0.9
      - websockets==12.0

      # Visualization / Preview
      - matplotlib==3.9.2
      - opencv-python==4.10.0.84
      - Pillow==10.4.0
      - plotly==5.23.0

      # Data handling
      - numpy==1.26.4
      - pandas==2.2.3
      - scipy==1.14.1
      - scikit-learn==1.5.2

      # Cloud integrations
      - boto3==1.35.36
      - azure-storage-blob==12.23.1
      - google-cloud-storage==2.18.2

      # Utilities
      - tqdm==4.66.5
      - requests==2.32.3
      - pyyaml==6.0.2
      - python-dotenv==1.0.1
      - rich==13.8.1

      # Dev / Debugging
      - pytest==8.3.3
      - black==24.8.0
      - flake8==7.1.1
      - isort==5.13.2
